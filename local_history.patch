Index: app/src/main/res/layout/fragment_test.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_test.xml	(revision )
+++ app/src/main/res/layout/fragment_test.xml	(revision )
@@ -44,11 +44,13 @@
             <com.yelp.android.webimageview.WebImageView
                 android:id="@+id/ivQuestion"
                 android:layout_height="wrap_content"
-                android:layout_width="match_parent"
+                android:layout_width="wrap_content"
+                android:layout_gravity="center_horizontal"
                 android:minHeight="48dp"
                 yelp:autoload="false"
                 yelp:image_priority="3"
-
+                android:padding="2dp"
+                android:background="@drawable/bachground_image"
                 />
 
             <TextView
@@ -85,6 +87,7 @@
                 android:layout_height="wrap_content"
                 android:text="@string/BUTTON_TEST_EVENT"
                 android:layout_gravity="center_horizontal"
+                android:layout_marginTop="8dp"
                 android:id="@+id/btnSend"
                 />
         </LinearLayout>
Index: app/src/main/res/layout/question_item_text.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/question_item_text.xml	(revision )
+++ app/src/main/res/layout/question_item_text.xml	(revision )
@@ -1,17 +1,13 @@
 <?xml version="1.0" encoding="utf-8"?>
-<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
-    android:orientation="horizontal" android:layout_width="match_parent"
-    android:layout_height="match_parent">
-
-    <EditText
+<EditText
-        android:layout_width="fill_parent"
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="0dp"
+    android:layout_margin="16dp"
-        android:layout_height="wrap_content"
-        android:id="@+id/et_Answer"
-        android:layout_weight="1"
-        android:hint="@string/hint_Answer"
-        android:visibility="visible"
+    android:layout_height="wrap_content"
+    android:id="@+id/et_Answer"
+    android:layout_weight="1"
+    android:hint="@string/hint_Answer"
+    android:visibility="visible"
-        android:lines="4"
-        android:padding="@dimen/marginLeft" >
-    <requestFocus/>
+    android:padding="12sp" >
+    <!--<requestFocus/>-->
-    </EditText>
+</EditText>
\ No newline at end of file
-</LinearLayout>
\ No newline at end of file
Index: app/src/main/res/layout/question_item_check.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/question_item_check.xml	(revision )
+++ app/src/main/res/layout/question_item_check.xml	(revision )
@@ -1,15 +1,9 @@
 <?xml version="1.0" encoding="utf-8"?>
-<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
-    android:orientation="horizontal" android:layout_width="match_parent"
-    android:layout_height="match_parent">
-
-    <CheckBox
+<CheckBox
+    xmlns:android="http://schemas.android.com/apk/res/android"
-        android:layout_width="fill_parent"
-        android:layout_height="wrap_content"
-        android:text="Answer Text"
-        android:id="@+id/cb_Answer"
+    android:layout_width="fill_parent"
+    android:layout_height="wrap_content"
+    android:text="Answer Text"
+    android:id="@+id/cb_Answer"
-        android:textAlignment="center"
-        android:visibility="visible"
-        android:padding="@dimen/marginLeft" />
-
-</LinearLayout>
\ No newline at end of file
+    android:gravity="center_vertical"
+    android:layout_margin="8dp" />
\ No newline at end of file
Index: app/src/main/res/layout/question_item_image.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/question_item_image.xml	(revision )
+++ app/src/main/res/layout/question_item_image.xml	(revision )
@@ -1,18 +1,17 @@
 <?xml version="1.0" encoding="utf-8"?>
-<LinearLayout
+<com.yelp.android.webimageview.WebImageView
+    android:id="@+id/ivAnswer"
     xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:yelp="http://schemas.android.com/apk/res-auto"
-    android:orientation="horizontal"
+
     android:layout_width="@dimen/foto_height"
-    android:layout_height="@dimen/foto_width">
+    android:layout_height="@dimen/foto_width"
 
-
-    <com.yelp.android.webimageview.WebImageView
-        android:id="@+id/ivAnswer"
-        android:layout_width="fill_parent"
-        android:layout_height="fill_parent"
-        yelp:autoload="false"
-        yelp:loading="@drawable/image_placeholder"
+    yelp:autoload="false"
+    yelp:loading="@drawable/image_placeholder"
-        yelp:image_priority="4" />
-    <!--android:background="@drawable/abc_ic_clear_mtrl_alpha"-->
-</LinearLayout>
+    yelp:image_priority="4"
+
+    android:padding="8dp"
+    android:layout_margin="16dp"
+    android:background="@drawable/bachground_image"/>
+
Index: app/src/main/res/layout/question_item_radio.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/question_item_radio.xml	(revision )
+++ app/src/main/res/layout/question_item_radio.xml	(revision )
@@ -1,15 +1,9 @@
 <?xml version="1.0" encoding="utf-8"?>
-<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
-    android:orientation="horizontal" android:layout_width="match_parent"
-    android:layout_height="match_parent"
-    android:visibility="visible"
-    android:padding="@dimen/marginLeft">
-
-    <RadioButton
+<RadioButton
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_margin="8dp"
-        android:layout_width="match_parent"
-        android:layout_height="wrap_content"
-        android:text="Answer Text"
-        android:id="@+id/rb_Answer"
-        android:visibility="visible" />
+    android:layout_width="match_parent"
+    android:layout_height="wrap_content"
+    android:text="Answer Text"
+    android:id="@+id/rb_Answer"
+    android:visibility="visible" />
\ No newline at end of file
-
-</LinearLayout>
\ No newline at end of file
Index: app/src/main/res/drawable/bachground_image.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/bachground_image.xml	(revision )
+++ app/src/main/res/drawable/bachground_image.xml	(revision )
@@ -0,0 +1,18 @@
+<layer-list xmlns:android="http://schemas.android.com/apk/res/android">
+    <item>
+        <shape android:shape="rectangle">
+            <solid android:color="#cadcdcdc" />
+            <corners android:radius="6dp" />
+        </shape>
+    </item>
+    <item
+        android:left="1dp"
+        android:top="1dp"
+        android:right="1dp"
+        android:bottom="1dp">
+        <shape android:shape="rectangle">
+            <solid android:color="#ffffff" />
+            <corners android:radius="3dp" />
+        </shape>
+    </item>
+</layer-list>
\ No newline at end of file
Index: app/src/main/res/drawable/background_image_active.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/background_image_active.xml	(revision )
+++ app/src/main/res/drawable/background_image_active.xml	(revision )
@@ -0,0 +1,18 @@
+<layer-list xmlns:android="http://schemas.android.com/apk/res/android">
+    <item>
+        <shape android:shape="rectangle">
+            <solid android:color="@color/main_color" />
+            <corners android:radius="6dp" />
+        </shape>
+    </item>
+    <item
+        android:left="1dp"
+        android:top="1dp"
+        android:right="1dp"
+        android:bottom="1dp">
+        <shape android:shape="rectangle">
+            <solid android:color="#ffffff" />
+            <corners android:radius="3dp" />
+        </shape>
+    </item>
+</layer-list>
\ No newline at end of file
Index: app/src/main/res/drawable-xxhdpi/card_background.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable-xxhdpi/card_background.xml	(revision )
+++ app/src/main/res/drawable-xxhdpi/card_background.xml	(revision )
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="utf-8"?>
 <layer-list xmlns:android="http://schemas.android.com/apk/res/android">
-<item>
+<item >
     <shape android:shape="rectangle">
         <solid android:color="#CABBBBBB" />
         <corners android:radius="2dp" />
\ No newline at end of file
Index: app/src/main/java/com/example/rav/testingo/TestActivity.java
===================================================================
--- app/src/main/java/com/example/rav/testingo/TestActivity.java	(revision )
+++ app/src/main/java/com/example/rav/testingo/TestActivity.java	(revision )
@@ -1,434 +0,0 @@
- package com.example.rav.testingo;
-
- import android.content.Context;
- import android.content.Intent;
- import android.os.Bundle;
- import android.support.v7.app.ActionBarActivity;
- import android.util.Log;
- import android.view.LayoutInflater;
- import android.view.Menu;
- import android.view.MenuItem;
- import android.view.View;
- import android.view.inputmethod.InputMethodManager;
- import android.widget.Button;
- import android.widget.CheckBox;
- import android.widget.EditText;
- import android.widget.GridLayout;
- import android.widget.LinearLayout;
- import android.widget.RadioButton;
- import android.widget.RadioGroup;
- import android.widget.TextView;
- import android.widget.Toast;
-
- import com.example.rav.testingo.DataFlow.ErrorResponseEvent;
- import com.example.rav.testingo.DataFlow.HttpDataClient;
- import com.example.rav.testingo.DataFlow.JsonResponseEvent;
- import com.example.rav.testingo.DataStructures.Question;
- import com.example.rav.testingo.DataStructures.SimpleJsonResponse;
- import com.yelp.android.webimageview.ImageLoader;
- import com.yelp.android.webimageview.WebImageView;
-
- import java.util.ArrayList;
- import java.util.List;
-
- import de.greenrobot.event.EventBus;
-
-
- public class TestActivity extends ActionBarActivity {
-     private int QUESTION_VIEW=0;
-     private int SHOW_RESULT=13;
-//     public String base_url = getResources().getString(R.string.base_url);
-     private Question q;
-     private List<String> answers = new ArrayList<>();
-     private List<String> options;
-     private View[] controls;
-     private int count=0;
-
-     private int questionsCount;
-     private String startToken;
-     private GridLayout gridLayout;
-     private Button send;
-     private LinearLayout llContainer;
-     private TextView tvQuestion, tvQuestionNumber;
-     private HttpDataClient client;
-     private Context context;
-     private  InputMethodManager imm;
-
-    @Override
-    protected void onCreate(Bundle savedInstanceState) {
-        super.onCreate(savedInstanceState);
-        ImageLoader.initialize(this, new Thread.UncaughtExceptionHandler() {
-            @Override
-            public void uncaughtException(Thread thread, Throwable ex) {
-                Log.e("EROROROROR", ex.getMessage());
-                ex.printStackTrace();
-            }
-        });
-
-        setContentView(R.layout.activity_test);
-        context = this;
-
-        Intent intent = getIntent();
-        questionsCount = intent.getIntExtra("questionsCount", 0);
-        startToken = intent.getStringExtra("startToken");
-
-        gridLayout = (GridLayout)findViewById(R.id.gvItemcontanier);
-        llContainer=(LinearLayout)findViewById(R.id.llItemcontanier);
-
-//        WebImageView wiv = (WebImageView) findViewById(R.id.ivQuestion);
-        tvQuestion=(TextView)findViewById(R.id.twQuestion);
-        tvQuestionNumber=(TextView)findViewById(R.id.tvQuestionNumber);
-
-
-        client = new HttpDataClient(getResources().getString(R.string.base_url), this);
-        send=(Button)findViewById(R.id.btnSend);
-        imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);
-        nextQuestion();
-        send.setOnClickListener(new View.OnClickListener() {
-            @Override
-            public void onClick(View v) {
-                nextQuestion();
-            }
-        });
-
-    }
-
-    public void nextQuestion() {
-        int responce_id = QUESTION_VIEW;
-        if(count > questionsCount - 1) {
-            responce_id = SHOW_RESULT;
-            send.setText(R.string.BUTTON_TEST_EVENT_FINISH);
-        }
-        if(count > 0) {
-            getAnswers();
-            if(answers.size() > 0)
-                client.post("mobile/next-question/"+startToken, answers, responce_id);
-            else
-                Toast.makeText(this, "ffff", Toast.LENGTH_SHORT).show();
-        }
-        else
-            client.post("mobile/next-question/"+startToken, answers, responce_id);
-    }
-
-     public void getAnswers() {
-        answers.clear();
-
-        String qType = q.getType();
-
-         if(qType.equals("text")) {
-             answers.add(((EditText)controls[0]).getText().toString());
-             imm.hideSoftInputFromWindow(controls[0].getWindowToken(), 0);
-         }
-
-         if(qType.equals("check")) {
-             for(int i = 0; i < controls.length; i++) {
-                 if(((CheckBox)controls[i]).isChecked()) answers.add(options.get(i));
-             }
-         }
-
-         if(qType.equals("radio")) {
-             for(int i = 0; i < controls.length; i++) {
-                 if(((RadioButton)controls[i]).isChecked()) answers.add(options.get(i));
-             }
-         }
-
-         if(qType.equals("image")) {
-             for(int i = 0; i < controls.length; i++) {
-                 int tag = (Integer)controls[i].getTag();
-                 if(tag > 0) answers.add(options.get(i));
-             }
-         }
-     }
-
-    @Override
-    public boolean onCreateOptionsMenu(Menu menu) {
-        // Inflate the menu; this adds items to the action bar if it is present.
-        getMenuInflater().inflate(R.menu.menu_test, menu);
-        return true;
-    }
-
-    @Override
-    public boolean onOptionsItemSelected(MenuItem item) {
-        // Handle action bar item clicks here. The action bar will
-        // automatically handle clicks on the Home/Up button, so long
-        // as you specify a parent activity in AndroidManifest.xml.
-        int id = item.getItemId();
-
-        //noinspection SimplifiableIfStatement
-        if (id == R.id.action_settings) {
-            return true;
-        }
-
-        return super.onOptionsItemSelected(item);
-    }
-
-     public void onEvent(JsonResponseEvent event) {
-//        Log.d("NET_TEST", event.getId());
-//         Log.d("json",event.getData());
-//         Log.d("json", String.valueOf(event.getId()));
-
-         if(event.getId() == QUESTION_VIEW ) {
-             q = Question.fromJson(event.getData());
-
-             Log.i("TAG", "Question load");
-             String question=q.getText();
-             Log.i("TAG", "question: "+question);
-
-             String hint=q.getHint();
-             Log.i("TAG", "hint: "+hint);
-
-             String type=q.getType();
-             Log.i("TAG", "TestType: "+type);
-
-             try {
-                 options = q.getData();
-                 Log.i("TAG", "options loaded.");
-             }
-             catch (NullPointerException e){
-                 Log.i("TAG", "NOT found list");
-             }
-
-             gridLayout.removeAllViews();
-             llContainer.removeAllViews();
-
-             String image = q.getImage();
-             WebImageView wiv = (WebImageView) findViewById(R.id.ivQuestion);
-             if(!image.isEmpty()) {
-                 String base_url = getResources().getString(R.string.base_url);
-                 Log.i("TAG", base_url + "img/test/" + image);
-                 wiv.setImageUrl(base_url + "img/test/" + image, R.drawable.image_placeholder);
-                 wiv.setVisibility(View.VISIBLE);
-             }
-             else {
-                 wiv.setImageDrawable(null);
-                 wiv.setVisibility(View.GONE);
-             }
-
-             tvQuestion.setText(question);
-             tvQuestionNumber.setText((count + 1) + "/" + questionsCount);
-
-             switch (type) {
-                 case "text":
-                     loadTextAnswer();
-                     Log.d("TAG", "Load a Text type question");
-                     break;
-                 case "radio":
-                     loadRadioAnswer();
-                     Log.d("TAG", "Load a RadioButton type question");
-                     break;
-                 case "check":
-
-
-                     loadSelectAnswer();
-                 Log.d("TAG", "Load a CheckBox type question");
-                     break;
-                 case "image":
-                     loadImageAnswer();
-                 Log.d("TAG", "Load an Image type question");
-                     break;
-                 default:
-                     Log.e("EROROROR", "Question type is not correct.");
-                     break;
-             }
-             count++;
-         }
-
-        if(event.getId() == SHOW_RESULT) {
-            SimpleJsonResponse resp = SimpleJsonResponse.fromJson(event.getData());
-            Intent intent = new Intent(context, ResultActivity.class);
-            intent.putExtra("id", resp.getData());
-            startActivity(intent);
-        }
-     }
-
-     public void onEvent(ErrorResponseEvent event) {
-         Log.d("json",event.getMessage());
-         Toast.makeText(this, event.getMessage(), Toast.LENGTH_SHORT).show();
-     }
-
-     @Override
-     protected void onStart() {
-         super.onStart();
-         EventBus.getDefault().register(this);
-     }
-
-     @Override
-     protected void onStop() {
-         super.onStop();
-         EventBus.getDefault().unregister(this);
-     }
-
-     private void  loadImageAnswer(){
-         LayoutInflater ltInflater = getLayoutInflater();
-
-         controls = new View[q.getData().size()];
-
-         for (int i = 0; i < q.getData().size();i++) {
-             View item;
-             item = ltInflater.inflate(R.layout.question_item_image, gridLayout, false);
-
-             final WebImageView image=(WebImageView)item.findViewById(R.id.ivAnswer);
-             controls[i] = image;
-
-            String base_url = getResources().getString(R.string.base_url);
-             image.setImageUrl(base_url + "img/question/" + q.getData().get(i));
-             image.setTag(0);
-
-             //Прописываем действие при выборе элемента
-             image.setOnClickListener(new View.OnClickListener() {
-                 @Override
-                 public void onClick(View v) {
-
-                     for (int j = 0; j < gridLayout.getChildCount(); j++) {
-                         View img = gridLayout.getChildAt(j);
-                         img.setBackgroundResource(0);
-                         img.setPadding(0, 0, 0, 0);
-                         img.setTag(0);
-                     }
-                     v.setTag(1);
-                     int selected = (Integer)v.getTag();
-                     if(selected == 1) {
-                         v.setBackgroundResource(R.drawable.border2);
-                         v.setPadding(6, 6, 6, 6);
-                     }
-
-
-//                     int id=(Integer)image.getTag();
-//                     Log.d("TAG", "______________IMAGE SELECT_________________");
-//                     Log.d("TAG", "ID:"+id);
-//                     for (int j = 0; j < gridLayout.getChildCount(); j++) {
-//                         if (j == (id)) {
-//                             Log.d("TAG", "ID:"+id+" , 1j="+j);
-//                             image.setBackgroundResource(R.drawable.border2);
-//                             image.setPadding(6, 6, 6, 6);
-//
-//                         }
-//                         else {
-//
-//                             Log.d("TAG", "ID:"+id+" , j="+j);
-//                             View img = gridLayout.getChildAt(j);
-//                             img.setBackgroundResource(0);
-//                             img.setPadding(0, 0, 0, 0);
-//
-//                         }
-//                     }
-
-//                     int parameter=(Integer)image.getTag();
-//                     if(parameter==0) {
-//                         image.setBackgroundResource(R.drawable.border2);
-//                         image.setPadding(6, 6, 6, 6);
-//                         image.setTag(1);
-//
-//                     }
-//                     else {
-//                         image.setBackgroundResource(0);
-//                         image.setPadding(0, 0, 0, 0);
-//                         image.setTag(0);
-//                     }
-                 }
-             });
-
-            item.setTag(i);
-            gridLayout.addView(item);
-         }
-     }
-     private void loadTextAnswer(){
-         LayoutInflater ltInflater = getLayoutInflater();
-         View item;
-
-         item = ltInflater.inflate(R.layout.question_item_text, llContainer, false);
-         EditText etAnswer = (EditText) item.findViewById(R.id.et_Answer);
-         controls = new View[] { etAnswer };
-         imm.showSoftInput(etAnswer, 0);
-         item.getLayoutParams().width = LinearLayout.LayoutParams.MATCH_PARENT;
-         llContainer.addView(item);
-     }
-
-
-     private void loadRadioAnswer(){
-             final RadioGroup group = new RadioGroup(this);
-             group.setOrientation(RadioGroup.VERTICAL);
-
-             controls = new View[q.getData().size()];
-
-            for (int i = 0; i <q.getData().size() ; i++) {
-                 final RadioButton rbtn = new RadioButton(this);
-
-                 controls[i] = rbtn;
-                LinearLayout.LayoutParams  rbParam = new RadioGroup.LayoutParams(
-                        RadioGroup.LayoutParams.MATCH_PARENT, RadioGroup.LayoutParams.WRAP_CONTENT);
-                 rbtn.setLayoutParams(rbParam);
-                 rbtn.setText(q.getData().get(i));
-                 rbtn.setPadding(40, 40, 40, 40);
-                 rbtn.setTag(i);
-                 rbtn.setOnClickListener(new View.OnClickListener() {
-                     @Override
-                     public void onClick(View v) {
-
-                         if(rbtn.isChecked()){
-                             //rbtn.setBackgroundResource(R.drawable.border2);
-
-                             int id = group.getCheckedRadioButtonId();
-
-                             Log.d("TAG", "______________RG SELECT_________________");
-                             Log.d("TAG", "ID:"+id);
-                             for (int j = 0; j < group.getChildCount(); j++) {
-                                 if (j == (id-1)) {
-                                     Log.d("TAG", "ID:"+id+" , 1j="+j);
-                                     rbtn.setBackgroundResource(R.drawable.border2);
-                                 }
-                                 else {
-                                     Log.d("TAG", "ID:"+id+" , j="+j);
-                                     View radio = group.getChildAt(j);
-                                     radio.setBackgroundResource(0);
-                                 }
-                             }
-                         }
-
-                     }
-                 });
-                 group.addView(rbtn);
-
-             }
-             llContainer.addView(group);
-
- //        }
-     }
-
-     private void loadSelectAnswer(){
-
-
-         LinearLayout linLayout = (LinearLayout) findViewById(R.id.llItemcontanier);
-         linLayout.removeAllViews();
-         LayoutInflater ltInflater = getLayoutInflater();
-         View item;
-
-         controls = new View[q.getData().size()];
-
-         for (int i = 0; i < q.getData().size();i++) {
-
-                 item = ltInflater.inflate(R.layout.question_item_check, linLayout, false);
-                 final CheckBox checkBox=(CheckBox)item.findViewById(R.id.cb_Answer);
-
-                 controls[i] = checkBox;
-
-                 checkBox.setText(options.get(i));
-                 checkBox.setOnClickListener(new View.OnClickListener() {
-                     @Override
-                     public void onClick(View v) {
-                         if(checkBox.isChecked()){
-                             checkBox.setBackgroundResource(R.drawable.border2);}
-                         else {
-                             checkBox.setBackgroundResource(0);}
-
-                     }
-                 });
-
-  //           }
-             item.setTag(i);
-             item.getLayoutParams().width = LinearLayout.LayoutParams.MATCH_PARENT;
-             linLayout.addView(item);
-         }
-     }
-
-}
Index: app/src/main/java/com/example/rav/testingo/TestFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/rav/testingo/TestFragment.java	(revision )
+++ app/src/main/java/com/example/rav/testingo/TestFragment.java	(revision )
@@ -227,7 +227,7 @@
             }
             else {
                 wiv.setImageDrawable(null);
-                wiv.setVisibility(View.GONE);
+                wiv.setVisibility(View.INVISIBLE);
             }
 
             tvQuestion.setText(question);
@@ -266,15 +266,12 @@
     }
 
     private void  loadImageAnswer(){
-        LayoutInflater ltInflater = inflater;
-
         controls = new View[q.getData().size()];
 
         for (int i = 0; i < q.getData().size();i++) {
-            View item;
-            item = ltInflater.inflate(R.layout.question_item_image, gridLayout, false);
+            WebImageView image = (WebImageView)inflater.inflate(
+                    R.layout.question_item_image, gridLayout, false);
 
-            final WebImageView image=(WebImageView)item.findViewById(R.id.ivAnswer);
             controls[i] = image;
 
             String base_url = getResources().getString(R.string.base_url);
@@ -285,122 +282,54 @@
             image.setOnClickListener(new View.OnClickListener() {
                 @Override
                 public void onClick(View v) {
-
                     for (int j = 0; j < gridLayout.getChildCount(); j++) {
                         View img = gridLayout.getChildAt(j);
-                        img.setBackgroundResource(0);
-                        img.setPadding(0, 0, 0, 0);
+                        if(v == img) continue;
+                        img.setBackgroundResource(R.drawable.bachground_image);
                         img.setTag(0);
                     }
                     v.setTag(1);
-                    int selected = (Integer)v.getTag();
-                    if(selected == 1) {
-                        v.setBackgroundResource(R.drawable.border2);
-                        v.setPadding(6, 6, 6, 6);
+                    v.setBackgroundResource(R.drawable.background_image_active);
-                    }
+                }
-                }
             });
 
-            item.setTag(i);
-            gridLayout.addView(item);
+            gridLayout.addView(image);
         }
     }
     private void loadTextAnswer(){
-        LayoutInflater ltInflater = inflater;
-        View item;
-
-        item = ltInflater.inflate(R.layout.question_item_text, llContainer, false);
-        EditText etAnswer = (EditText) item.findViewById(R.id.et_Answer);
+        EditText etAnswer = (EditText)inflater.inflate(R.layout.question_item_text, llContainer, false);
         controls = new View[] { etAnswer };
-        imm.showSoftInput(etAnswer, 0);
-        item.getLayoutParams().width = LinearLayout.LayoutParams.MATCH_PARENT;
-        llContainer.addView(item);
+//        imm.showSoftInput(etAnswer, 0);
+        llContainer.addView(etAnswer);
     }
 
 
-    private void loadRadioAnswer(){
+    private void loadRadioAnswer() {
         final RadioGroup group = new RadioGroup(context);
         group.setOrientation(RadioGroup.VERTICAL);
 
         controls = new View[q.getData().size()];
 
-        for (int i = 0; i <q.getData().size() ; i++) {
+        for (int i = 0; i < q.getData().size() ; i++) {
-            final RadioButton rbtn = new RadioButton(context);
-
-            controls[i] = rbtn;
-            LinearLayout.LayoutParams  rbParam = new RadioGroup.LayoutParams(
-                    RadioGroup.LayoutParams.MATCH_PARENT, RadioGroup.LayoutParams.WRAP_CONTENT);
-            rbtn.setLayoutParams(rbParam);
-            rbtn.setText(q.getData().get(i));
-            rbtn.setPadding(40, 40, 40, 40);
-            rbtn.setTag(i);
-            rbtn.setOnClickListener(new View.OnClickListener() {
-                @Override
-                public void onClick(View v) {
-
-                    if(rbtn.isChecked()){
-                        int id = group.getCheckedRadioButtonId();
-
-                        Log.d("TAG", "______________RG SELECT_________________");
-                        Log.d("TAG", "ID:"+id);
-                        for (int j = 0; j < group.getChildCount(); j++) {
-                            if (j == (id-1)) {
-                                Log.d("TAG", "ID:"+id+" , 1j="+j);
-                                rbtn.setBackgroundResource(R.drawable.border2);
+            RadioButton rb = (RadioButton)inflater.inflate(R.layout.question_item_radio, group, false);
+            controls[i] = rb;
+            rb.setText(q.getData().get(i));
+            group.addView(rb);
-                            }
+        }
-                            else {
-                                Log.d("TAG", "ID:"+id+" , j="+j);
-                                View radio = group.getChildAt(j);
-                                radio.setBackgroundResource(0);
-                            }
-                        }
-                    }
-
-                }
-            });
-            group.addView(rbtn);
-
-        }
         llContainer.addView(group);
-
-        //        }
     }
 
     private void loadSelectAnswer(){
-        LinearLayout linLayout = (LinearLayout)rootView.findViewById(R.id.llItemcontanier);
-        linLayout.removeAllViews();
-        LayoutInflater ltInflater = inflater;
-        View item;
-
         controls = new View[q.getData().size()];
 
         for (int i = 0; i < q.getData().size();i++) {
-
-            item = ltInflater.inflate(R.layout.question_item_check, linLayout, false);
-            final CheckBox checkBox=(CheckBox)item.findViewById(R.id.cb_Answer);
-
+            CheckBox checkBox = (CheckBox)inflater.inflate(R.layout.question_item_check,
+                    llContainer, false);
             controls[i] = checkBox;
-
             checkBox.setText(options.get(i));
-            checkBox.setOnClickListener(new View.OnClickListener() {
-                @Override
-                public void onClick(View v) {
-                    if(checkBox.isChecked()){
-                        checkBox.setBackgroundResource(R.drawable.border2);}
-                    else {
-                        checkBox.setBackgroundResource(0);}
-
+            llContainer.addView(checkBox);
-                }
+        }
-            });
-
-            item.setTag(i);
-            item.getLayoutParams().width = LinearLayout.LayoutParams.MATCH_PARENT;
-            linLayout.addView(item);
-        }
+    }
-    }
-
-
-
 
     @Override
     public void onStart() {
Index: app/build/generated/source/r/debug/com/example/rav/testingo/R.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build/generated/source/r/debug/com/example/rav/testingo/R.java	(revision )
+++ app/build/generated/source/r/debug/com/example/rav/testingo/R.java	(revision )
@@ -1362,23 +1362,25 @@
         public static final int abc_textfield_search_material=0x7f020032;
         public static final int ba=0x7f020033;
         public static final int ba1=0x7f020034;
-        public static final int background_button=0x7f020035;
-        public static final int border=0x7f020036;
-        public static final int border2=0x7f020037;
-        public static final int card_background=0x7f020038;
-        public static final int card_background_selector=0x7f020039;
-        public static final int card_state_pressed=0x7f02003a;
-        public static final int drawer_shadow=0x7f02003b;
-        public static final int ic_action_help=0x7f02003c;
-        public static final int ic_action_search=0x7f02003d;
-        public static final int ic_action_warning=0x7f02003e;
-        public static final int ic_drawer=0x7f02003f;
-        public static final int ic_launcher=0x7f020040;
-        public static final int ic_launcher_web=0x7f020041;
-        public static final int image_placeholder=0x7f020042;
-        public static final int questionlogo=0x7f020043;
-        public static final int testingo=0x7f020044;
-        public static final int usericon=0x7f020045;
+        public static final int bachground_image=0x7f020035;
+        public static final int background_button=0x7f020036;
+        public static final int background_image_active=0x7f020037;
+        public static final int border=0x7f020038;
+        public static final int border2=0x7f020039;
+        public static final int card_background=0x7f02003a;
+        public static final int card_background_selector=0x7f02003b;
+        public static final int card_state_pressed=0x7f02003c;
+        public static final int drawer_shadow=0x7f02003d;
+        public static final int ic_action_help=0x7f02003e;
+        public static final int ic_action_search=0x7f02003f;
+        public static final int ic_action_warning=0x7f020040;
+        public static final int ic_drawer=0x7f020041;
+        public static final int ic_launcher=0x7f020042;
+        public static final int ic_launcher_web=0x7f020043;
+        public static final int image_placeholder=0x7f020044;
+        public static final int questionlogo=0x7f020045;
+        public static final int testingo=0x7f020046;
+        public static final int usericon=0x7f020047;
     }
     public static final class id {
         public static final int action_bar=0x7f080031;
@@ -1400,18 +1402,18 @@
         public static final int action_settings=0x7f080076;
         public static final int activity_chooser_view_content=0x7f080021;
         public static final int always=0x7f080016;
-        public static final int avatar=0x7f08005f;
+        public static final int avatar=0x7f080057;
         public static final int beginning=0x7f080013;
         public static final int btnConfirm=0x7f080049;
         public static final int btnRegistr=0x7f080054;
-        public static final int btnSend=0x7f080056;
-        public static final int btnStartTest=0x7f080066;
+        public static final int btnSend=0x7f08006b;
+        public static final int btnStartTest=0x7f08005e;
         public static final int cb_Answer=0x7f08006c;
         public static final int checkbox=0x7f080029;
         public static final int collapseActionView=0x7f080017;
-        public static final int container=0x7f08006b;
-        public static final int container_test_info=0x7f08005d;
-        public static final int content_container=0x7f080067;
+        public static final int container=0x7f080065;
+        public static final int container_test_info=0x7f080055;
+        public static final int content_container=0x7f08005f;
         public static final int decor_content_parent=0x7f08002f;
         public static final int default_activity_button=0x7f080024;
         public static final int dialog=0x7f08001b;
@@ -1429,7 +1431,7 @@
         public static final int expand_activities_button=0x7f080022;
         public static final int expanded_menu=0x7f080028;
         public static final int fragment_target=0x7f080040;
-        public static final int gvItemcontanier=0x7f08005a;
+        public static final int gvItemcontanier=0x7f080068;
         public static final int h1=0x7f080073;
         public static final int home=0x7f080004;
         public static final int homeAsUp=0x7f08000d;
@@ -1440,14 +1442,14 @@
         public static final int imageView=0x7f080042;
         public static final int imgFoto=0x7f080043;
         public static final int ivAnswer=0x7f08006f;
-        public static final int ivQuestion=0x7f080058;
+        public static final int ivQuestion=0x7f080066;
         public static final int ivResult=0x7f080050;
-        public static final int list=0x7f080068;
+        public static final int list=0x7f080060;
         public static final int listMode=0x7f080009;
         public static final int list_item=0x7f080025;
-        public static final int ll=0x7f08005e;
-        public static final int llItemcontanier=0x7f08005b;
-        public static final int loading_container=0x7f08006a;
+        public static final int ll=0x7f080056;
+        public static final int llItemcontanier=0x7f080069;
+        public static final int loading_container=0x7f080064;
         public static final int logo=0x7f080072;
         public static final int middle=0x7f080015;
         public static final int navigation_drawer=0x7f080041;
@@ -1456,7 +1458,7 @@
         public static final int normal=0x7f08000a;
         public static final int progress_circular=0x7f080005;
         public static final int progress_horizontal=0x7f080006;
-        public static final int rGroup=0x7f08005c;
+        public static final int rGroup=0x7f08006a;
         public static final int radio=0x7f08002b;
         public static final int rb_Answer=0x7f08006d;
         public static final int scrollView=0x7f08004b;
@@ -1470,33 +1472,33 @@
         public static final int search_plate=0x7f080039;
         public static final int search_src_text=0x7f08003a;
         public static final int search_voice_btn=0x7f08003e;
-        public static final int section_label=0x7f080069;
+        public static final int section_label=0x7f080061;
         public static final int shortcut=0x7f08002a;
         public static final int showCustom=0x7f08000f;
         public static final int showHome=0x7f080010;
         public static final int showTitle=0x7f080011;
         public static final int split_action_bar=0x7f080007;
         public static final int submit_area=0x7f08003c;
-        public static final int svQuestion=0x7f080057;
+        public static final int svQuestion=0x7f080062;
         public static final int tabMode=0x7f08000b;
-        public static final int test_image=0x7f080061;
+        public static final int test_image=0x7f080059;
         public static final int text1=0x7f080070;
         public static final int text2=0x7f080071;
-        public static final int textView=0x7f080060;
+        public static final int textView=0x7f080058;
         public static final int textView2=0x7f080053;
-        public static final int textView3=0x7f080062;
-        public static final int textView4=0x7f080063;
-        public static final int textView5=0x7f080064;
-        public static final int textView6=0x7f080065;
+        public static final int textView3=0x7f08005a;
+        public static final int textView4=0x7f08005b;
+        public static final int textView5=0x7f08005c;
+        public static final int textView6=0x7f08005d;
         public static final int title=0x7f080027;
         public static final int toFeedButton=0x7f080052;
         public static final int tvAuthor=0x7f08004d;
         public static final int tvEditFoto=0x7f08004a;
-        public static final int tvQuestionNumber=0x7f080055;
+        public static final int tvQuestionNumber=0x7f080063;
         public static final int tvResult=0x7f08004f;
         public static final int tvResultDetail=0x7f080051;
         public static final int tvTestName=0x7f08004e;
-        public static final int twQuestion=0x7f080059;
+        public static final int twQuestion=0x7f080067;
         public static final int up=0x7f080008;
         public static final int useLogo=0x7f080012;
         public static final int user_image=0x7f080074;
@@ -1535,26 +1537,25 @@
         public static final int activity_registration=0x7f030018;
         public static final int activity_result=0x7f030019;
         public static final int activity_sign=0x7f03001a;
-        public static final int activity_test=0x7f03001b;
-        public static final int activity_test_info=0x7f03001c;
-        public static final int channel_item_card=0x7f03001d;
-        public static final int fragment_list=0x7f03001e;
-        public static final int fragment_nav_feed=0x7f03001f;
-        public static final int fragment_navigation_drawer=0x7f030020;
-        public static final int fragment_test=0x7f030021;
-        public static final int list_item_card=0x7f030022;
-        public static final int loading_container=0x7f030023;
-        public static final int navigation_item=0x7f030024;
-        public static final int question_item=0x7f030025;
-        public static final int question_item_check=0x7f030026;
-        public static final int question_item_image=0x7f030027;
-        public static final int question_item_radio=0x7f030028;
-        public static final int question_item_text=0x7f030029;
-        public static final int result_list_card=0x7f03002a;
-        public static final int sample_activity=0x7f03002b;
-        public static final int subscribtion_list_card=0x7f03002c;
-        public static final int support_simple_spinner_dropdown_item=0x7f03002d;
-        public static final int test_radiogroup=0x7f03002e;
+        public static final int activity_test_info=0x7f03001b;
+        public static final int channel_item_card=0x7f03001c;
+        public static final int fragment_list=0x7f03001d;
+        public static final int fragment_nav_feed=0x7f03001e;
+        public static final int fragment_navigation_drawer=0x7f03001f;
+        public static final int fragment_test=0x7f030020;
+        public static final int list_item_card=0x7f030021;
+        public static final int loading_container=0x7f030022;
+        public static final int navigation_item=0x7f030023;
+        public static final int question_item=0x7f030024;
+        public static final int question_item_check=0x7f030025;
+        public static final int question_item_image=0x7f030026;
+        public static final int question_item_radio=0x7f030027;
+        public static final int question_item_text=0x7f030028;
+        public static final int result_list_card=0x7f030029;
+        public static final int sample_activity=0x7f03002a;
+        public static final int subscribtion_list_card=0x7f03002b;
+        public static final int support_simple_spinner_dropdown_item=0x7f03002c;
+        public static final int test_radiogroup=0x7f03002d;
     }
     public static final class menu {
         public static final int global=0x7f0c0000;
Index: app/build/generated/source/r/debug/android/support/v7/appcompat/R.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build/generated/source/r/debug/android/support/v7/appcompat/R.java	(revision )
+++ app/build/generated/source/r/debug/android/support/v7/appcompat/R.java	(revision )
@@ -444,7 +444,7 @@
 		public static final int abc_search_dropdown_item_icons_2line = 0x7f030014;
 		public static final int abc_search_view = 0x7f030015;
 		public static final int abc_simple_dropdown_hint = 0x7f030016;
-		public static final int support_simple_spinner_dropdown_item = 0x7f03002d;
+		public static final int support_simple_spinner_dropdown_item = 0x7f03002c;
 	}
 	public static final class string {
 		public static final int abc_action_bar_home_description = 0x7f0a0018;
